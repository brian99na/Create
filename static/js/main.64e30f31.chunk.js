(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{36:function(e,t,c){},37:function(e,t,c){},57:function(e,t,c){},58:function(e,t,c){},59:function(e,t,c){},60:function(e,t,c){},61:function(e,t,c){},62:function(e,t,c){},63:function(e,t,c){"use strict";c.r(t);var a=c(2),s=c.n(a),n=c(28),i=c.n(n),o=c(4),r=(c(36),c(3)),l=(c(37),c(30)),j=c(29),u=c(19),d=c.p+"static/media/Rectangle 1.383d5abf.svg",b=c.p+"static/media/Polygon 1.90481df0.svg",O=c.p+"static/media/Ellipse 1.8da0fad7.svg",m=c(1);var f=function(e){var t=Object(r.f)(),c=Object(a.useState)(!1),s=Object(o.a)(c,2),n=s[0],i=s[1],f=function(c){c.target.getAttribute("name")?(e.setPageLeave(!0),setTimeout((function(){i(!n),t("".concat(c.target.getAttribute("name"))),setTimeout((function(){e.setPageLeave(!1)}),300)}),300)):i(!n)},p=function(){i(!1),e.setPageLeave(!0),setTimeout((function(){t("/"),setTimeout((function(){e.setPageLeave(!1)}),200)}),500)};Object(a.useEffect)((function(){document.title="Create",e.setPageLeave(!1)}),[]);var h=e.userInfo&&e.userInfo.token?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("h1",{name:"/users/".concat(e.userInfo.user_name),onClick:f,children:[Object(m.jsx)(j.a,{}),"[Profile]"]}),Object(m.jsxs)("h1",{onClick:function(){localStorage.setItem("create-app","[]"),e.setPageLeave(!0),setTimeout((function(){t("/"),setTimeout((function(){i(!n),setTimeout((function(){e.setUserInfo("")}),100)}),100)}),500)},children:[Object(m.jsx)(u.a,{}),"[Sign Out]"]})]}):Object(m.jsxs)("h1",{name:"/sign-in",onClick:f,children:[Object(m.jsx)(u.a,{style:{transform:"rotate(180deg)"}}),"[Sign In/Up]"]});return Object(m.jsxs)("header",{children:[Object(m.jsxs)("nav",{children:[Object(m.jsxs)("div",{className:"create-btn",onClick:p,children:[Object(m.jsxs)("div",{className:"header-shapes ".concat(n?"header-active":""),onClick:p,children:[Object(m.jsx)("img",{className:"sqr ".concat(n?"sqr-active":""),src:d,alt:""}),Object(m.jsx)("img",{className:"tri ".concat(n?"tri-active":""),src:b,alt:""}),Object(m.jsx)("img",{className:"circ ".concat(n?"circ-active":""),src:O,alt:""}),Object(m.jsx)("p",{className:"secret-text",children:"hi :)"})]}),Object(m.jsx)("h1",{children:"create"})]}),Object(m.jsx)("div",{className:"search-ham",children:Object(m.jsxs)("div",{className:"ham-main",onClick:f,children:[Object(m.jsx)("div",{className:"ham-1 ".concat(n?"ham-active-1":"")}),Object(m.jsx)("div",{className:"ham-2 ".concat(n?"ham-active-2":"")}),Object(m.jsx)("div",{className:"ham-3 ".concat(n?"ham-active-3":"")})]})})]}),Object(m.jsx)("div",{className:"nav-links ".concat(n?"nav-links-active":""),children:Object(m.jsxs)("div",{className:"nav-links-main",children:[Object(m.jsxs)("h1",{name:"/",onClick:f,children:[Object(m.jsx)(l.a,{}),"[Home]"]}),h]})})]})},p=c(9),h=c(6),g=c.n(h);c(57);var v=function(e){var t=Object(a.useState)([]),c=Object(o.a)(t,2),s=c[0],n=c[1],i=Object(a.useState)([]),l=Object(o.a)(i,2),j=l[0],u=l[1],d=Object(a.useState)([]),b=Object(o.a)(d,2),O=b[0],f=b[1],h=Object(a.useState)(!1),v=Object(o.a)(h,2),x=v[0],N=v[1],k=Object(r.f)(),C=["png","jpeg"],S=s.length>0&&s.filter((function(e){if(0===O.length)return!0;for(var t=0;t<O.length;t++)if(e.tags[0].includes(O[t]))return!0;return!1})).map((function(t){return Object(m.jsxs)("div",{className:"post-container",onClick:function(c){return a=t.user,s=t.id,e.setPageLeave(!0),void g.a.get("https://create-art.herokuapp.com/get-user/".concat(a,"/")).then((function(e){setTimeout((function(){k("/users/".concat(e.data.user_name,"/").concat(s))}),500)}));var a,s},children:[Object(m.jsx)("p",{children:t.title}),Object(m.jsx)("div",{className:"file-container",children:t.file&&C.includes(t.file.slice(-3))?Object(m.jsx)("img",{alt:"",src:t.file}):Object(m.jsx)("video",{playsInline:!0,autostart:"true",autoPlay:!0,loop:!0,controls:!1,muted:!0,src:t.file})})]})})),L=[1,1,1,1,1,1,1,1,1].map((function(e){return Object(m.jsx)("div",{className:"home-post-skele"})})),I=j.map((function(e){return Object(m.jsx)("div",{className:"tag-container",children:Object(m.jsx)("h1",{className:"tag-item ".concat(O.includes(e)?"tag-active":""),onClick:function(t){return function(e,t){if(O.includes(t)){var c=Object(p.a)(O),a=c.indexOf(t);c.splice(a,1),f(c)}else{var s=Object(p.a)(O);s.push(t),f(s)}}(0,e)},children:e})})}));return Object(a.useEffect)((function(){g.a.get("https://create-art.herokuapp.com/all/").then((function(e){n(e.data),console.log(e.data);for(var t=[],c=0;c<e.data.length;c++)t=[].concat(Object(p.a)(t),Object(p.a)(e.data[c].tags[0].split(",")));var a=t.filter((function(e,c){return t.indexOf(e)===c}));u(a)})).then((function(){return N(!0)})).catch((function(e){console.log(e)})),setTimeout((function(){e.setPageLeave(!1)}),200)}),[]),Object(m.jsxs)("div",{className:"homepage ".concat(e.pageLeave?"homepage-leave":""),children:[Object(m.jsx)("div",{className:"tag-bar",children:I}),Object(m.jsx)("div",{className:"posts",children:Object(m.jsx)("div",{className:"post-inner",children:x?S:L})})]})},x=c(10),N=c(5);c(58);var k=function(e){var t=Object(a.useState)({user:{email:"",password:""}}),c=Object(o.a)(t,2),s=c[0],n=c[1],i=Object(a.useState)({email:"",password:"",passwordCheck:"",username:""}),l=Object(o.a)(i,2),j=l[0],u=l[1],d=Object(a.useState)({signIn:!1,signUp:!1,msg:""}),b=Object(o.a)(d,2),O=b[0],f=b[1],p=Object(a.useState)(!1),h=Object(o.a)(p,2),v=h[0],k=h[1],C=Object(r.f)(),S=function(){k(!v)},L=function(e){var t=Object(N.a)({},s),c=e.target.name;t.user[c]=e.target.value,n(t)},I=function(e){u(Object(N.a)(Object(N.a)({},j),{},Object(x.a)({},e.target.name,e.target.value)))},y=function(t){g.a.post("https://create-art.herokuapp.com/sign-in/",t).then((function(t){e.setPageLeave(!0),f(Object(N.a)(Object(N.a)({},O),{},{signIn:!1,msg:""})),e.setUserInfo(t.data.user),function(e){var t=JSON.parse(localStorage.getItem("create-app"));t.pop(),t.push(e.data.user),localStorage.setItem("create-app",JSON.stringify(t))}(t),C("/users/".concat(t.data.user.user_name))})).catch((function(e){f(Object(N.a)(Object(N.a)({},O),{},{signIn:!0,msg:"sign-in failed"}))}))};return Object(a.useEffect)((function(){setTimeout((function(){e.setPageLeave(!1)}),300)}),[]),Object(m.jsx)("div",{className:"sign-page ".concat(e.pageLeave?"sign-leave":""),children:Object(m.jsxs)("div",{className:"sign-container ".concat(v?"sign-up-page":""),children:[Object(m.jsx)("section",{className:"sign-in",children:Object(m.jsxs)("form",{onSubmit:function(e){e.preventDefault(),y(s)},children:[Object(m.jsx)("h1",{children:"Sign In"}),Object(m.jsx)("input",{placeholder:"[email]",name:"email",onChange:L,value:s.user.email}),Object(m.jsx)("input",{type:"password",placeholder:"[password]",name:"password",onChange:L,value:s.user.password}),Object(m.jsx)("button",{type:"submit",children:"[sign in]"}),Object(m.jsxs)("div",{className:"sign-up-detour",children:[Object(m.jsx)("h3",{children:"Don't have an account?"}),Object(m.jsx)("p",{onClick:S,children:"sign up here"})]}),Object(m.jsx)("p",{className:"error",children:O.signIn?"Error, try again":null}),"                    "]})}),Object(m.jsx)("section",{className:"sign-up ".concat(v?"sign-up-anim":""),children:Object(m.jsxs)("form",{onSubmit:function(e){e.preventDefault(),j.password===j.passwordCheck?(f(Object(N.a)(Object(N.a)({},O),{},{signUp:!1,msg:""})),g.a.post("https://create-art.herokuapp.com/sign-up/",{user:{email:j.email,password:j.password,user_name:j.username}}).then((function(e){var t={user:{email:j.email,password:j.password}};y(t)})).catch((function(e){f(Object(N.a)(Object(N.a)({},O),{},{signUp:!0,msg:"sign-up failed"}))}))):f(Object(N.a)(Object(N.a)({},O),{},{signUp:!0,msg:"passwords do not match"}))},children:[Object(m.jsx)("h1",{children:"Sign Up"}),Object(m.jsx)("input",{placeholder:"[email]",name:"email",onChange:I,value:j.email}),Object(m.jsx)("input",{type:"password",placeholder:"[password]",name:"password",onChange:I,value:j.password}),Object(m.jsx)("input",{type:"password",placeholder:"[repeat password]",name:"passwordCheck",onChange:I,value:j.passwordCheck}),Object(m.jsx)("input",{placeholder:"[create username]",name:"username",onChange:I,value:j.username}),Object(m.jsx)("button",{type:"submit",children:"[sign up]"}),Object(m.jsx)("div",{className:"sign-up-detour",children:Object(m.jsx)("p",{onClick:S,children:"back to sign in"})}),Object(m.jsx)("p",{className:"error",children:O.signUp?"error: ".concat(O.msg):""})]})})]})})},C=(c(59),c(31)),S=c.n(C);var L=function(e){var t=Object(a.useState)([]),c=Object(o.a)(t,2),s=c[0],n=c[1],i=Object(a.useState)({style:"",colors:[]}),l=Object(o.a)(i,2),j=l[0],u=l[1],d=Object(a.useState)(!1),b=Object(o.a)(d,2),O=b[0],f=b[1],p=Object(r.f)(),h=Object(r.g)().id,v=["png","jpeg"],x=["marble","beam","pixel","sunset","ring","bauhaus"],N=["#92A1C6","#146A7C","#F0AB3D","#C20D90","264653","2a9d8f","e9c46a","f4a261","e76f51"];Object(a.useEffect)((function(){!function(){for(var e=x[Math.floor(Math.random()*x.length)],t=[],c=0;c<5;c++)t.push(N[Math.floor(Math.random()*N.length)]);u({style:e,colors:t})}(),g.a.get("https://create-art.herokuapp.com/get-id/".concat(h,"/")).then((function(e){console.log(e),g.a.get("https://create-art.herokuapp.com/user-posts/".concat(e.data.id,"/")).then((function(e){return n(e.data)})).then((function(){return f(!0)})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)})),setTimeout((function(){e.setPageLeave(!1)}),200)}),[]);var k=s.map((function(t){return Object(m.jsxs)("div",{className:"creation-main",onClick:function(c){return a=t.id,e.setPageLeave(!0),void setTimeout((function(){p("/users/".concat(h,"/").concat(a))}),500);var a},children:[Object(m.jsx)("h1",{children:t.title}),Object(m.jsx)("div",{className:"creation-file",children:t.file&&v.includes(t.file.slice(-3))?Object(m.jsx)("img",{alt:"",src:t.file}):Object(m.jsx)("video",{playsInline:!0,autostart:"true",autoPlay:!0,loop:!0,controls:!1,muted:!0,src:t.file})})]})})),C=[1,1,1,1,1,1,1,1,1].map((function(e){return Object(m.jsx)("div",{className:"home-post-skele"})}));return Object(m.jsxs)("div",{className:"user-page ".concat(e.pageLeave?"user-leave":""),children:[Object(m.jsxs)("div",{className:"profile",children:[Object(m.jsx)(S.a,{className:"boring-avatar",size:80,variant:j.style,colors:j.colors}),Object(m.jsxs)("h1",{children:["[@",h,"]"]})]}),Object(m.jsxs)("div",{className:"creation-container",children:[Object(m.jsx)("p",{children:"[creations]"}),Object(m.jsx)("div",{className:"creations",children:O?k:C})]})]})};c(60);var I=function(e){var t=Object(a.useState)(""),c=Object(o.a)(t,2),s=c[0],n=c[1],i=Object(r.g)(),l=i.id,j=i.post_id,u=Object(a.useState)(!1),d=Object(o.a)(u,2),b=d[0],O=d[1],f=Object(r.f)(),p=function(){g.a.get("https://create-art.herokuapp.com/get-id/".concat(l,"/")).then((function(t){g.a.get("https://create-art.herokuapp.com/post/".concat(t.data.id,"/").concat(j,"/")).then((function(t){e.setPostData(t.data)})).then((function(){return O(!0)})).catch((function(e){return console.log(e)}))}))};Object(a.useEffect)((function(){n(l),p(),setTimeout((function(){e.setPageLeave(!1)}),300)}),[]),Object(a.useEffect)((function(){setTimeout((function(){p()}),300)}),[j]);var h=Object(m.jsx)("div",{className:"post-skele"});return Object(m.jsx)("div",{className:"post-upper ".concat(e.pageLeave?"post-leave":""),children:Object(m.jsxs)("div",{className:"post-container",children:[b?Object(m.jsx)("div",{className:"file-container",children:e.postData&&e.postData.file&&["png","jpeg"].includes(e.postData.file.slice(-3))?Object(m.jsx)("img",{alt:"",src:e.postData.file}):Object(m.jsx)("video",{playsInline:!0,autostart:"true",autoPlay:!0,loop:!0,controls:!1,muted:!0,src:e.postData.file})}):h,Object(m.jsxs)("div",{className:"title-at",children:[Object(m.jsx)("h1",{children:e.postData.title}),Object(m.jsxs)("p",{onClick:function(){e.setPageLeave(!0),setTimeout((function(){f("/users/".concat(l))}),300)},children:["[@",s,"]"]})]}),Object(m.jsx)("p",{children:e.postData.desc}),Object(m.jsx)("div",{className:"tag-container",children:e.postData.tags&&e.postData.tags[0].split(",").map((function(e){return Object(m.jsx)("p",{className:"tag",children:e})}))}),e.userInfo&&e.userInfo.user_name===l?Object(m.jsx)("button",{className:"edit-btn",onClick:function(){e.setEditActive(!0),e.setCreateActive(!0)},children:"[edit post]"}):null]})})},y=c(17),P=c(16);c(61);var A=function(e){var t=Object(a.useState)(!1),c=Object(o.a)(t,2),s=c[0],n=c[1],i=Object(a.useState)({title:"",desc:"",file:"",tags:["art"]}),l=Object(o.a)(i,2),j=l[0],u=l[1],d=Object(a.useState)(""),b=Object(o.a)(d,2),O=b[0],f=b[1],h=Object(a.useState)(""),v=Object(o.a)(h,2),k=v[0],C=v[1],S=Object(a.useState)(""),L=Object(o.a)(S,2),I=L[0],A=L[1],D=Object(a.useState)(1),T=Object(o.a)(D,2),w=T[0],E=T[1],U=Object(a.useRef)(),z=Object(r.f)(),_=function(){setTimeout((function(){e.userInfo&&C(e.userInfo.token)}),300)},J=function(e){u(Object(N.a)(Object(N.a)({},j),{},Object(x.a)({},e.target.name,e.target.value)))},R=function(e){"next"===e.target.name&w<3?E(w+1):"back"===e.target.name&w>1&&E(w-1)},M=j.tags&&j.tags.map((function(e,t){return Object(m.jsxs)("div",{className:"tag-container",children:[Object(m.jsx)("p",{className:"tag",children:e}),Object(m.jsx)(P.a,{className:"remove-tag",onClick:function(e){return function(e,t){var c=Object(p.a)(j.tags);c.splice(t,1),u(Object(N.a)(Object(N.a)({},j),{},{tags:c}))}(0,t)}})]})}));return Object(a.useEffect)((function(){_()}),[]),Object(a.useEffect)((function(){_()}),[e.userInfo]),Object(m.jsxs)("div",{className:"modal-upper ".concat(s?"modal-upper-active":""),children:[Object(m.jsxs)("div",{className:"create-modal ".concat(s?"modal-active":""),children:[Object(m.jsxs)("div",{className:"slide-indicators",children:[Object(m.jsx)("div",{className:"circle ".concat(1===w?"dot":"")}),Object(m.jsx)("div",{className:"circle ".concat(2===w?"dot":"")}),Object(m.jsx)("div",{className:"circle ".concat(3===w?"dot":"")})]}),Object(m.jsx)("div",{className:"create-form-main",children:Object(m.jsxs)("div",{className:"create-form ".concat(1===w?"form-left":2===w?"form-mid":3===w?"form-right":""),children:[Object(m.jsxs)("div",{className:"upload-slide",children:[Object(m.jsx)("div",{className:"skeleton-load ".concat(j.file?"skeleton-invis":""),children:j.file&&["png","jpeg"].includes(j.file.slice(-3))?Object(m.jsx)("img",{alt:"",src:j.file}):Object(m.jsx)("video",{playsInline:!0,autostart:"true",autoPlay:!0,loop:!0,controls:!1,muted:!0,src:j.file})}),Object(m.jsxs)("div",{className:"upload-container",children:[Object(m.jsx)("input",{ref:U,onChange:function(e){U.current.files[0]&&(U.current.files[0].size<1e7?(A(""),u(Object(N.a)(Object(N.a)({},j),{},{file:URL.createObjectURL(U.current.files[0])}))):A("[file size must be less than 10mb]"))},type:"file",hidden:!0}),Object(m.jsx)("button",{onClick:function(){A("[feature coming soon]")},children:j.file.file?j.file.title:"[upload]"}),Object(m.jsx)("input",{className:"link-upload",onChange:function(e){u(Object(N.a)(Object(N.a)({},j),{},{file:e.target.value}))},value:j.file,placeholder:"enter file link here"})]})]}),Object(m.jsx)("div",{className:"title-desc-slide",children:Object(m.jsxs)("div",{className:"title-desc",children:[Object(m.jsx)("input",{placeholder:"title",type:"text",maxLength:"12",name:"title",value:j.title,onChange:J}),Object(m.jsx)("textarea",{placeholder:"description",maxLength:"500",name:"desc",value:j.desc,onChange:J})]})}),Object(m.jsxs)("form",{className:"tags-slide",onSubmit:function(e){e.preventDefault();var t=Object(p.a)(j.tags);t.push(O),u(Object(N.a)(Object(N.a)({},j),{},{tags:t})),f("")},children:[Object(m.jsx)("div",{className:"tags-container",children:M}),Object(m.jsx)("input",{placeholder:"input tags",value:O,onChange:function(e){f(e.target.value)}})]})]})}),Object(m.jsxs)("div",{className:"btn-container",children:[s&&Object(m.jsx)("button",{name:"back",onClick:R,className:"back-btn ".concat(w>=2?"btn-active":""),children:"[back]"}),s&&Object(m.jsx)("button",{name:"next",onClick:R,className:"next-btn ".concat(w<=2?"btn-active":""),children:"[next]"}),s&&Object(m.jsx)("button",{onClick:function(){if(j.title&&j.desc&&j.file&&j.tags[0]){A("");var t=JSON.stringify({title:j.title,desc:j.desc,file:j.file,tags:[j.tags.join(",")]});g.a.post("https://create-art.herokuapp.com/posts/",t,{headers:{"Content-Type":"application/json",Authorization:"Token "+k}}).then((function(t){e.setPageLeave(!0),n(!1),setTimeout((function(){z("/users/".concat(e.userInfo.user_name,"/").concat(t.data.id))}),300)})).then((function(){u({file:"",title:"",desc:"",tags:[]}),E(1)})).catch((function(){return A("[error]")}))}else A("[missing details]")},className:"create-btn ".concat(3===w?"btn-active":""),children:"[create]"})]}),Object(m.jsx)("p",{className:"error",children:I})]}),Object(m.jsx)("div",{className:"create-icon",children:Object(m.jsx)(y.a,{className:"create-icon-2 ".concat(s?"create-icon-x":""),onClick:function(){k?(s&&u({title:"",desc:"",file:"",tags:["art"]}),n(!s)):(e.setPageLeave(!0),setTimeout((function(){z("/sign-in"),setTimeout((function(){e.setPageLeave(!1)}),300)}),300))}})})]})};c(62);var D=function(e){var t=Object(a.useState)({title:"",desc:"",file:"",tags:["art"]}),c=Object(o.a)(t,2),s=c[0],n=c[1],i=Object(a.useState)(""),l=Object(o.a)(i,2),j=l[0],u=l[1],d=Object(a.useState)(""),b=Object(o.a)(d,2),O=b[0],f=b[1],h=Object(a.useState)(""),v=Object(o.a)(h,2),k=v[0],C=v[1],S=Object(a.useState)(!1),L=Object(o.a)(S,2),I=L[0],A=L[1],D=Object(a.useState)(1),T=Object(o.a)(D,2),w=T[0],E=T[1],U=Object(a.useRef)(),z=Object(r.f)(),_=function(){setTimeout((function(){e.userInfo&&f(e.userInfo.token)}),300)},J=function(e){n(Object(N.a)(Object(N.a)({},s),{},Object(x.a)({},e.target.name,e.target.value)))},R=function(e){"next"===e.target.name&w<3?E(w+1):"back"===e.target.name&w>1&&E(w-1)},M=function(){A(!I)},q=s.tags&&s.tags.map((function(e,t){return Object(m.jsxs)("div",{className:"tag-container",children:[Object(m.jsx)("p",{className:"tag",children:e}),Object(m.jsx)(P.a,{className:"remove-tag",onClick:function(e){return function(e,t){var c=Object(p.a)(s.tags);c.splice(t,1),n(Object(N.a)(Object(N.a)({},s),{},{tags:c}))}(0,t)}})]})}));return Object(a.useEffect)((function(){_()}),[]),Object(a.useEffect)((function(){_()}),[e.userInfo]),Object(a.useEffect)((function(){e.postData&&n(Object(N.a)(Object(N.a)({},s),{},{title:e.postData.title,desc:e.postData.desc,tags:e.postData.tags[0].split(","),file:e.postData.file}))}),[e.createActive]),console.log(s),console.log(e.userInfo),console.log(e.postData),Object(m.jsxs)("div",{className:"modal-upper-edit ".concat(e.createActive?"modal-upper-active":""),children:[Object(m.jsx)("div",{onClick:M,className:"delete-overlay ".concat(I?"deleteOverlayActive":""),children:Object(m.jsxs)("div",{className:"delete-modal ".concat(I?"deleteModalActive":""),children:[Object(m.jsx)("h1",{children:"Are you sure you want to delete this post?"}),Object(m.jsxs)("div",{className:"del-btns",children:[Object(m.jsx)("button",{onClick:M,children:"Cancel"}),Object(m.jsx)("button",{onClick:function(){g.a.delete("https://create-art.herokuapp.com/post/".concat(e.postData.id,"/"),{headers:{"Content-Type":"application/json",Authorization:"Token "+O}}).then((function(){A(!I),e.setCreateActive(!1),e.setEditActive(!1),e.setPageLeave(!0),setTimeout((function(){z("/"),setTimeout((function(){e.setPageLeave(!1)}),100)}),300)}))},className:"del-btn",children:"Delete"})]})]})}),Object(m.jsxs)("div",{className:"create-modal ".concat(e.createActive?"modal-active":""),children:[Object(m.jsxs)("div",{className:"slide-indicators",children:[Object(m.jsx)("div",{className:"circle ".concat(1===w?"dot":"")}),Object(m.jsx)("div",{className:"circle ".concat(2===w?"dot":"")}),Object(m.jsx)("div",{className:"circle ".concat(3===w?"dot":"")})]}),Object(m.jsx)("div",{className:"create-form-main",children:Object(m.jsxs)("div",{className:"create-form ".concat(1===w?"form-left":2===w?"form-mid":3===w?"form-right":""),children:[Object(m.jsxs)("div",{className:"upload-slide",children:[Object(m.jsx)("div",{className:"skeleton-load ".concat(s.file?"skeleton-invis":""),children:s.file&&["png","jpeg"].includes(s.file.slice(-3))?Object(m.jsx)("img",{alt:"",src:s.file}):Object(m.jsx)("video",{playsInline:!0,autostart:"true",autoPlay:!0,loop:!0,controls:!1,muted:!0,src:s.file})}),Object(m.jsxs)("div",{className:"upload-container",children:[Object(m.jsx)("input",{ref:U,onChange:function(e){U.current.files[0]&&(U.current.files[0].size<1e7?(C(""),n(Object(N.a)(Object(N.a)({},s),{},{file:URL.createObjectURL(U.current.files[0])}))):C("[file size must be less than 10mb]"))},type:"file",hidden:!0}),Object(m.jsx)("button",{onClick:function(){C("[feature coming soon]")},children:"[upload]"}),Object(m.jsx)("input",{className:"link-upload",onChange:function(e){n(Object(N.a)(Object(N.a)({},s),{},{file:e.target.value}))},value:s.file,placeholder:"enter file link here"})]})]}),Object(m.jsx)("div",{className:"title-desc-slide",children:Object(m.jsxs)("div",{className:"title-desc",children:[Object(m.jsx)("input",{placeholder:"title",maxLength:"12",name:"title",value:s.title,onChange:J}),Object(m.jsx)("textarea",{placeholder:"description",maxLength:"500",name:"desc",value:s.desc,onChange:J})]})}),Object(m.jsxs)("form",{className:"tags-slide",onSubmit:function(e){e.preventDefault();var t=Object(p.a)(s.tags);t.push(j),n(Object(N.a)(Object(N.a)({},s),{},{tags:t})),u("")},children:[Object(m.jsx)("div",{className:"tags-container",children:q}),Object(m.jsx)("input",{placeholder:"input tags",value:j,onChange:function(e){u(e.target.value)}})]})]})}),Object(m.jsxs)("div",{className:"btn-container",children:[Object(m.jsx)("button",{name:"delete",onClick:function(e){A(!0)},className:"back-btn ".concat(1===w?"btn-active delete":""),children:"[delete]"}),Object(m.jsx)("button",{name:"back",onClick:R,className:"back-btn ".concat(w>=2?"btn-active":""),children:"[back]"}),Object(m.jsx)("button",{name:"next",onClick:R,className:"next-btn ".concat(w<=2?"btn-active":""),children:"[next]"}),Object(m.jsx)("button",{onClick:function(){var t=JSON.stringify({title:s.title,desc:s.desc,tags:[s.tags.join(",")]});g.a.patch("https://create-art.herokuapp.com/post/".concat(e.postData.id,"/"),t,{headers:{"Content-Type":"application/json",Authorization:"Token "+O}}).then((function(t){console.log(t),e.setCreateActive(!1),e.setEditActive(!1),window.location.reload()})).then((function(){n({file:"",title:"",desc:"",tags:[]}),E(1)})).catch((function(){C("[error]")}))},className:"create-btn ".concat(3===w?"btn-active":""),children:"[update]"})]}),Object(m.jsx)("p",{className:"error",children:k})]}),e.createActive?Object(m.jsx)("div",{className:"create-icon-edit",children:Object(m.jsx)(y.a,{className:"create-icon-2 ".concat(e.createActive?"create-icon-x":""),onClick:function(){e.createActive&&n({title:"",desc:"",file:"",tags:["art"]}),e.setCreateActive(!1),e.setEditActive(!1)}})}):null]})};var T=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)(""),i=Object(o.a)(n,2),l=i[0],j=i[1],u=Object(a.useState)(!1),d=Object(o.a)(u,2),b=d[0],O=d[1],p=Object(a.useState)(!1),h=Object(o.a)(p,2),g=h[0],x=h[1],N=Object(a.useState)(""),C=Object(o.a)(N,2),S=C[0],y=C[1];return Object(a.useEffect)((function(){s(!1),function(){if(null==localStorage.getItem("create-app"))localStorage.setItem("create-app","[]");else{var e=JSON.parse(localStorage.getItem("create-app"));j(e[0])}}()}),[]),console.log(l),Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(f,{userInfo:l,setUserInfo:j,setPageLeave:s,pageLeave:c}),Object(m.jsxs)(r.c,{children:[Object(m.jsx)(r.a,{path:"/",element:Object(m.jsx)(v,{setPageLeave:s,pageLeave:c},l)}),Object(m.jsx)(r.a,{path:"/sign-in",element:Object(m.jsx)(k,{userInfo:l,setUserInfo:j,setPageLeave:s,pageLeave:c},l)}),Object(m.jsx)(r.a,{path:"/users/:id",element:Object(m.jsx)(L,{userInfo:l,setUserInfo:j,setPageLeave:s,pageLeave:c},l)}),Object(m.jsx)(r.a,{path:"/users/:id/:post_id",element:Object(m.jsx)(I,{setPostData:y,postData:S,setCreateActive:x,setEditActive:O,userInfo:l,setUserInfo:j,setPageLeave:s,pageLeave:c},l)})]}),b?"":Object(m.jsx)(A,{userInfo:l,setUserInfo:j,setPageLeave:s,pageLeave:c}),b&&Object(m.jsx)(D,{setPageLeave:s,pageLeave:c,userInfo:l,postData:S,createActive:g,setCreateActive:x,setEditActive:O})]})},w=c(11);i.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(w.a,{basename:"/create",children:Object(m.jsx)(T,{})})}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.64e30f31.chunk.js.map